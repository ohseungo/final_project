<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="step">
   <select id="selectWalkListWithUserId" parameterType="String" resultType="Walk">
      select w.WALKID, w.USERID, ifnull(w.WALKDISTANCE,0) WALKDISTANCE, a.date WALKDATE
from (select WALKID, USERID, WALKDISTANCE, WALKDATE
from WALK where USERID = 'admin') w right join (select DATE_SUB(now(), INTERVAL 6 DAY) date from dual
union all
select DATE_SUB(now(), INTERVAL 5 DAY) date from dual
union all
select DATE_SUB(now(), INTERVAL 4 DAY) date from dual
union all
select DATE_SUB(now(), INTERVAL 3 DAY) date from dual
union all
select DATE_SUB(now(), INTERVAL 2 DAY) date from dual
union all
select DATE_SUB(now(), INTERVAL 1 DAY) date from dual) a
on date(w.WALKDATE) = date(a.date);
      
      
   </select>
   <select id="insertWalk" parameterType="Walk">
      insert into Walk (USERID, WALKDISTANCE, WALKDATE) 
         VALUES (#{userId}, #{walkDistance},now()) 
   </select>
</mapper>